<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>For snowball ‚ù§Ô∏è</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;600&display=swap" rel="stylesheet">

<style>
* { box-sizing: border-box; margin: 0; padding: 0; }

body {
  font-family: 'Dancing Script', cursive;
  background: #fdeff4;
  color: #333;
  text-align: center;
  overflow-x: hidden;
}

section {
  min-height: 100vh;
  padding: 24px;
  display: none;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}
section.active { display: flex; }

button {
  padding: 12px 22px;
  margin: 10px;
  border: none;
  border-radius: 24px;
  font-size: 18px;
  background: #ff8fab;
  color: white;
  cursor: pointer;
}

.memory {
  border: 2px dashed #ffb3c6;
  padding: 20px;
  border-radius: 16px;
}
.memory img,
.memory video {
  max-width: 90%;
  border-radius: 14px;
  margin-top: 12px;
}
.memory p {
  margin-top: 10px;
  font-size: 18px;
  opacity: 0.9;
}

/* Envelope */
#envelope { width:200px;height:120px;background:#ffb3c6;border-radius:10px;position:relative; }
#flap { position:absolute;width:100%;height:60px;background:#ff8fab;transform-origin:top;transition:transform .8s; }
.open #flap { transform: rotateX(180deg); }

/* Hug */
#hugBox { background:#ffe5ec;padding:40px;border-radius:20px;transition:.3s; }
.squeeze { transform: scale(.94); }

/* Hearts */
#alignArea { position:relative;height:200px;width:100%; }
.align-heart { position:absolute;font-size:40px; }
#target { top:80px;left:50%;transform:translateX(-50%); }
#draggable { top:20px;left:20px;cursor:grab; }

/* Dots */
.dot { width:20px;height:20px;background:#ffb3c6;border-radius:50%;position:absolute; }

/* Music */
#musicBtn {
  position:fixed;top:16px;right:16px;
  width:44px;height:44px;border-radius:50%;
  background:#ff8fab;color:white;font-size:18px;
}

/* Curtains */
#curtains { position:fixed;inset:0;display:none;z-index:10; }
.curtain { position:absolute;width:50%;height:100%;background:#2b2b2b; }
#leftCurtain { left:-50%; }
#rightCurtain { right:-50%; }
.closeLeft { animation:cl 1.2s forwards; }
.closeRight { animation:cr 1.2s forwards; }
@keyframes cl { to{left:0;} }
@keyframes cr { to{right:0;} }

#finalText {
  position:fixed;inset:0;display:none;
  justify-content:center;align-items:center;
  color:white;font-size:28px;
}
</style>
</head>

<body>

<button id="musicBtn">üéµ</button>

<script>
const PASSWORD="KUCHIPUCHIIIII";
if(prompt("What is your nickname on Instagram? üíó")!==PASSWORD){
  document.body.innerHTML="<h2 style='margin-top:40vh'>Hmm‚Ä¶ that‚Äôs not it.</h2>";
  throw new Error("Denied");
}
</script>

<audio id="bgm" loop>
  <source src="music.mp3">
</audio>

<section class="active">
  <div id="envelope"><div id="flap"></div></div>
  <button onclick="openEnvelope()">Open</button>
</section>

<section>
  <p>hiiiii meri cutu</p>
  <button onclick="next()">keep touching the pink stuff</button>
</section>

<section>
  <button onclick="respond('That makes me smile.')">Happy</button>
  <button onclick="respond('You deserve rest.')">Tired</button>
  <button onclick="respond('I miss you too.')">Missing you</button>
  <p id="reply"></p>
</section>

<!-- Images + videos -->
<section class="memory"><p>kholnaaa.</p><button onclick="img(this,'p1.jpg','This was a good day.')">Unlock</button></section>
<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p2.jpg','You looked happy here.')">Unlock</button></section>

<section>
  <div id="hugBox">
    <button onclick="hug()">Hug me</button>
    <p id="hugText"></p>
  </div>
</section>

<section class="memory"><p>click if you love me hehe</p><button onclick="vid(this,'v1.mp4','I still remember this.')">Unlock</button></section>

<section>
  <div id="alignArea">
    <div id="target" class="align-heart">‚ù§Ô∏è</div>
    <div id="draggable" class="align-heart">‚ù§Ô∏è</div>
  </div>
  <p id="alignText"></p>
</section>

<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p3.jpg','A quiet moment.')">Unlock</button></section>
<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p4.jpg','I miss this.')">Unlock</button></section>

<section id="findme"><p>I‚Äôm somewhere here.</p></section>

<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p5.jpg','Found you.')">Unlock</button></section>

<!-- Sequential video pair -->
<section class="memory">
  <p>There‚Äôs a memory here.</p>
  <button onclick="doubleVideo(this)">Unlock</button>
</section>

<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p6.jpg','Still my favorite.')">Unlock</button></section>
<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p7.jpg','This one stays.')">Unlock</button></section>
<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p8.jpg','I love this.')">Unlock</button></section>
<section class="memory"><p>There‚Äôs a memory here.</p><button onclick="img(this,'p9.jpg','Almost there.')">Unlock</button></section>

<section class="memory">
  <p>One last memory.</p>
  <button onclick="finalUnlock(this,'p10.jpg')">Final</button>
</section>

<div id="curtains">
  <div id="leftCurtain" class="curtain"></div>
  <div id="rightCurtain" class="curtain"></div>
</div>

<div id="finalText"><p>I love you, NAME.</p></div>

<script>
const sections=document.querySelectorAll("section");
const bgm=document.getElementById("bgm");
const musicBtn=document.getElementById("musicBtn");
const reply=document.getElementById("reply");
const hugBox=document.getElementById("hugBox");
const hugText=document.getElementById("hugText");
const alignText=document.getElementById("alignText");
const findme=document.getElementById("findme");
const curtains=document.getElementById("curtains");
const leftCurtain=document.getElementById("leftCurtain");
const rightCurtain=document.getElementById("rightCurtain");
const finalText=document.getElementById("finalText");
const envelope=document.getElementById("envelope");

let i=0;
function show(n){ if(n>=0 && n<sections.length){ sections.forEach(s=>s.classList.remove("active")); sections[n].classList.add("active"); } }
function next(){ if(i<sections.length-1) show(++i); }

function openEnvelope(){ envelope.classList.add("open"); bgm.play().catch(()=>{}); setTimeout(next,900); }
function respond(t){ reply.innerText=t; setTimeout(next,1200); }

function img(b,s,c){ b.parentElement.innerHTML=`<img src="${s}"><p>${c}</p>`; setTimeout(next,1500); }
function vid(b,s,c){ b.parentElement.innerHTML=`<video src="${s}" autoplay muted playsinline controls></video><p>${c}</p>`; setTimeout(next,2500); }

function doubleVideo(b){
  b.parentElement.innerHTML=`
    <video id="seqVideo" src="v3.mp4" autoplay muted playsinline controls></video>
    <p id="seqCaption">This part matters.</p>`;
  const v=document.getElementById("seqVideo");
  const c=document.getElementById("seqCaption");
  v.onended=()=>{
    v.src="v4.mp4";
    c.innerText="And this too.";
    v.play();
    v.onended=()=>setTimeout(next,1500);
  };
}

function hug(){ hugBox.classList.add("squeeze"); hugText.innerText="This is me."; setTimeout(next,1200); }

/* Hearts ‚Äì touch + mouse */
const drag=document.getElementById("draggable");
const target=document.getElementById("target");
let dragging=false;

function moveHeart(x,y){
  drag.style.left=x-20+"px";
  drag.style.top=y-20+"px";
  if(Math.abs(drag.offsetLeft-target.offsetLeft)<30 &&
     Math.abs(drag.offsetTop-target.offsetTop)<30){
    alignText.innerText="We always find our way back.";
    setTimeout(next,1500);
  }
}

drag.addEventListener("touchmove",e=>{
  const t=e.touches[0];
  moveHeart(t.clientX,t.clientY);
});
drag.addEventListener("mousedown",()=>dragging=true);
document.addEventListener("mousemove",e=>{ if(dragging) moveHeart(e.clientX,e.clientY); });
document.addEventListener("mouseup",()=>dragging=false);

/* Find me */
let taps=0;
for(let j=0;j<10;j++){
  const d=document.createElement("div");
  d.className="dot";
  d.style.left=Math.random()*80+"%";
  d.style.top=Math.random()*60+30+"%";
  d.onclick=()=>{ taps++; if(taps===4) setTimeout(next,1200); else d.style.opacity=0; };
  findme.appendChild(d);
}

function finalUnlock(b,s){
  b.parentElement.innerHTML=`<img src="${s}">`;
  setTimeout(()=>{
    curtains.style.display="block";
    leftCurtain.classList.add("closeLeft");
    rightCurtain.classList.add("closeRight");
    setTimeout(()=>finalText.style.display="flex",1200);
  },1500);
}

musicBtn.onclick=()=>{ bgm.paused?bgm.play():bgm.pause(); };
</script>

</body>
</html>
