<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For snowball ğŸ¤</title>

<link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500;600&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{
    font-family:'Inter',sans-serif;
    background:radial-gradient(circle at top,#fff0f6,#fde2ea);
    overflow:hidden;
    text-align:center;
}

/* ---------- SECTIONS ---------- */
section{
    position:fixed;
    inset:0;
    display:none;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    padding:24px;
    opacity:0;
    transform:translateY(20px);
    transition:.7s ease;
}
section.active{display:flex;opacity:1;transform:none}

p{font-family:'Dancing Script',cursive;font-size:22px;line-height:1.5}

button{
    margin-top:14px;
    padding:14px 32px;
    border:none;
    border-radius:999px;
    background:linear-gradient(135deg,#ff8fab,#ff5d8f);
    color:white;
    font-size:16px;
    box-shadow:0 10px 30px rgba(255,93,143,.35);
}
button:active{transform:scale(.95)}

/* ---------- MUSIC ---------- */
#musicBtn{
    position:fixed;
    top:16px;right:16px;
    width:46px;height:46px;
    border-radius:50%;
    border:none;
    background:linear-gradient(135deg,#ff8fab,#ff5d8f);
    color:white;
    font-size:18px;
    z-index:50;
}
#musicBtn.playing{animation:pulse 1.8s infinite}
@keyframes pulse{
    0%{box-shadow:0 0 0 0 rgba(255,93,143,.5)}
    70%{box-shadow:0 0 0 16px rgba(255,93,143,0)}
    100%{box-shadow:0 0 0 0 rgba(255,93,143,0)}
}

/* ---------- ENVELOPE ---------- */
#envelope{
    width:280px;height:180px;
    background:#ffd6e5;
    border-radius:18px;
    position:relative;
    box-shadow:0 30px 60px rgba(0,0,0,.15);
}
#flap{
    position:absolute;
    inset:0;
    height:50%;
    background:linear-gradient(135deg,#ff8fab,#ff5d8f);
    transform-origin:top;
    transition:1.2s ease;
}
#letter{
    position:absolute;
    inset:18px;
    background:white;
    border-radius:12px;
    display:flex;
    align-items:center;
    justify-content:center;
    font-family:'Dancing Script',cursive;
    font-size:22px;
    opacity:0;
    transform:translateY(30px);
    transition:1s ease;
}
.open #flap{transform:rotateX(-160deg)}
.open #letter{opacity:1;transform:translateY(-10px)}

/* ---------- MEMORY ---------- */
.memory{
    width:90%;
    max-width:420px;
    background:rgba(255,255,255,.65);
    border-radius:20px;
    padding:22px;
    box-shadow:0 20px 50px rgba(0,0,0,.12);
}
.lock{font-size:44px;cursor:pointer}

/* ---------- HEART ALIGN ---------- */
#alignArea{position:relative;height:200px;width:100%}
.align-heart{position:absolute;font-size:40px}
#target{top:80px;left:50%;transform:translateX(-50%)}
#drag{top:20px;left:20px;touch-action:none}

/* ---------- FIND ME ---------- */
.dot{
    width:20px;height:20px;
    background:#ff8fab;
    border-radius:50%;
    position:absolute;
}

/* ---------- YES NO ---------- */
#choices{display:flex;gap:16px}
#noBtn{transition:.2s ease}

/* ---------- CURTAINS ---------- */
#curtains{position:fixed;inset:0;display:none;z-index:40}
.curtain{position:absolute;width:50%;height:100%;background:#111}
#left{left:-50%}
#right{right:-50%}
.closeLeft{animation:l 1.2s forwards}
.closeRight{animation:r 1.2s forwards}
@keyframes l{to{left:0}}
@keyframes r{to{right:0}}

#finalText{
    position:fixed;
    inset:0;
    display:none;
    z-index:50;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    color:white;
    font-family:'Dancing Script',cursive;
    font-size:30px;
}
</style>
</head>

<body>

<button id="musicBtn">ğŸµ</button>

<script>
/* PASSWORD EASTER EGG */
const PASSWORD="KUCHIPUCHIIIII";
let tries=0;
while(true){
    const x=prompt("What is your nickname on Instagram? ğŸ’—");
    if(x===PASSWORD||tries>=2)break;
    alert(tries===0?"hmm ğŸ¤":"try again cutu");
    tries++;
}
</script>

<audio id="bgm" loop preload="auto">
<source src="https://res.cloudinary.com/dpzoaq2ds/video/upload/v1768814816/music_qimbs8.mp3" type="audio/mpeg">
</audio>

<!-- INTRO -->
<section class="active">
    <div id="envelope">
        <div id="flap"></div>
        <div id="letter">for you, shatakshi ğŸ¤</div>
    </div>
    <button onclick="openEnvelope()">Open</button>
</section>

<section>
    <p id="greet"></p>
    <button onclick="next()">Next</button>
</section>

<section>
    <p>do you love me?</p>
    <div id="choices">
        <button onclick="yes()">Yes</button>
        <button id="noBtn" onclick="no()">No</button>
    </div>
</section>

<!-- MEMORIES (10 pics + 4 vids) -->
<section class="memory"><p>START</p><div class="lock" onclick="unlock(this,'p1.jpg','kitna pyaar krte h na ye dono?')">ğŸ”’</div></section>
<section class="memory"><p>Jumpscare</p><div class="lock" onclick="unlock(this,'p2.jpg','kuchipuchi meri')">ğŸ”’</div></section>
<section><button onclick="hug()">Hug me</button><p id="hugText"></p></section>
<section class="memory"><p>Volume up</p><div class="lock" onclick="unlock(this,'v1.mp4','ğŸ˜­ğŸ˜­ğŸ«¶ğŸ»',true)">ğŸ”’</div></section>

<section>
<p>hehe</p>
<div id="alignArea">
<div id="target" class="align-heart">â¤ï¸</div>
<div id="drag" class="align-heart">â¤ï¸</div>
</div>
<p id="alignText"></p>
</section>

<section class="memory"><p>Stuff</p><div class="lock" onclick="unlock(this,'p3.jpg','ğŸ˜­ğŸ«¶ğŸ»')">ğŸ”’</div></section>
<section class="memory"><p>Favs</p><div class="lock" onclick="unlock(this,'p4.jpg','promise?')">ğŸ”’</div></section>

<section id="findme"><p>Find the hearts</p></section>

<section class="memory"><p>Look</p><div class="lock" onclick="unlock(this,'p5.jpg','melting')">ğŸ”’</div></section>
<section class="memory"><p>Cutu</p><div class="lock" onclick="unlock(this,'v2.mp4','SMILEEEE',true)">ğŸ”’</div></section>
<section class="memory"><p>Me</p><div class="lock" onclick="unlock(this,'p6.jpg','pretty decent')">ğŸ”’</div></section>
<section class="memory"><p>Home</p><div class="lock" onclick="unlock(this,'p7.jpg','meri cutu')">ğŸ”’</div></section>
<section class="memory"><p>Yours</p><div class="lock" onclick="unlock(this,'v3.mp4','only you',true)">ğŸ”’</div></section>
<section class="memory"><p>Here</p><div class="lock" onclick="unlock(this,'p8.jpg','exactly')">ğŸ”’</div></section>
<section class="memory"><p>Everything</p><div class="lock" onclick="unlock(this,'p9.jpg','everything')">ğŸ”’</div></section>
<section class="memory"><p>Everyday</p><div class="lock" onclick="unlock(this,'v4.mp4','lag rhi',true)">ğŸ”’</div></section>

<section class="memory">
<p>Last?</p>
<div class="lock" onclick="finalUnlock(this,'p10.jpg','first pic')">ğŸ”’</div>
</section>

<div id="curtains">
<div id="left" class="curtain"></div>
<div id="right" class="curtain"></div>
</div>

<div id="finalText">
<p>I love you, shatakshi ğŸ¤<br>one year, infinite us</p>
</div>

<script>
const sections=[...document.querySelectorAll("section")];
const bgm=document.getElementById("bgm");
const musicBtn=document.getElementById("musicBtn");
const envelope=document.getElementById("envelope");
const finalText=document.getElementById("finalText");
let i=0,fading=null;

/* greeting */
const h=new Date().getHours();
document.getElementById("greet").innerText=h<12?"good morning meri cutu":h<18?"hello my favorite human":"come here, long day?";

/* shuffle memories */
sections.filter(s=>s.classList.contains("memory")).sort(()=>Math.random()-.5).forEach(s=>s.parentNode.appendChild(s));

function show(n){sections.forEach(s=>s.classList.remove("active"));sections[n].classList.add("active")}
function next(){if(i<sections.length-1)show(++i)}

/* music */
function fadeIn(){
clearInterval(fading);bgm.volume=0;bgm.play();musicBtn.classList.add("playing");
fading=setInterval(()=>bgm.volume<.95?bgm.volume+=.05:clearInterval(fading),80)
}
function fadeOut(){
clearInterval(fading);
fading=setInterval(()=>{if(bgm.volume>.05)bgm.volume-=.05;else{bgm.pause();musicBtn.classList.remove("playing");clearInterval(fading)}},80)
}
musicBtn.onclick=()=>bgm.paused?fadeIn():fadeOut();

function openEnvelope(){envelope.classList.add("open");fadeIn();setTimeout(next,1300)}

/* yes no */
let scale=1;
function no(){scale-=.15;document.getElementById("noBtn").style.transform=`scale(${scale})`}
function yes(){alert("hehe I know ğŸ¤");next()}

/* unlock */
function unlock(el,src,cap,isVideo=false){
const media=isVideo?`<video src="${src}" controls playsinline onplay="bgm.volume=.3" onpause="bgm.volume=.95"></video>`:`<img src="${src}">`;
el.parentElement.innerHTML=`${media}<p>${cap}</p><button onclick="next()">Next</button>`
}
function finalUnlock(el,src,cap){
el.parentElement.innerHTML=`<img src="${src}"><p>${cap}</p><button onclick="finish()">Finish</button>`
}
function finish(){
document.getElementById("curtains").style.display="block";
document.getElementById("left").classList.add("closeLeft");
document.getElementById("right").classList.add("closeRight");
setTimeout(()=>finalText.style.display="flex",1200)
}

/* hug */
function hug(){document.getElementById("hugText").innerHTML="This is me holding you.<br><button onclick='next()'>Next</button>"}

/* heart drag */
let heartDone=false;
const drag=document.getElementById("drag"),target=document.getElementById("target");
drag.addEventListener("touchmove",e=>{
const t=e.touches[0];
drag.style.left=t.clientX-20+"px";
drag.style.top=t.clientY-20+"px";
if(!heartDone&&Math.abs(drag.offsetLeft-target.offsetLeft)<40){
heartDone=true;
document.getElementById("alignText").innerHTML="we always find our way back<br><button onclick='next()'>Next</button>"
}
});

/* find me */
const fm=document.getElementById("findme");
let taps=0;
for(let j=0;j<10;j++){
const d=document.createElement("div");
d.className="dot";
d.style.left=Math.random()*80+"%";
d.style.top=Math.random()*60+20+"%";
d.onclick=()=>{taps++;d.style.opacity=0;if(taps===4)fm.innerHTML+="<button onclick='next()'>Next</button>"};
fm.appendChild(d);
}
</script>

</body>
</html>
